<form [formGroup]="quizForm" (ngSubmit)="onSubmit()" class="quiz-form w-[100%] min-w-[300px] max-w-[450px] bg-white rounded-md">
  <div class="w-full" style="margin-bottom: 15px;">
    <label for="quiz-title" class="block text-xs font-semibold text-gray-700" style="margin-bottom: 5px;">Titre du quiz</label>
    <input type="text" id="quiz-title" formControlName="title" class="w-full text-xs font-semibold border border-gray-300 rounded px-3 py-2" style="padding: 10px;" placeholder="Entrer le titre du quiz" />
    <div *ngIf="quizForm.get('title')?.invalid && (quizForm.get('title')?.touched || quizForm.get('title')?.dirty)" class="text-xs text-red-600">Titre requis</div>
  </div>
  <div class="w-full" style="margin-bottom: 15px;">
    <label for="quiz-title" class="block text-xs font-semibold text-gray-700" style="margin-bottom: 5px;">Score Total</label>
    <input type="number" id="quiz-title" formControlName="totalAvrage" class="w-full text-xs font-semibold border border-gray-300 rounded px-3 py-2" style="padding: 10px;" placeholder="Enter quiz title" />
    <div *ngIf="quizForm.get('totalAvrage')?.invalid && (quizForm.get('totalAvrage')?.touched || quizForm.get('totalAvrage')?.dirty)" class="text-xs text-red-600">Score total requis</div>
  </div>
  <div class="w-full" style="margin-bottom: 15px;">
    <label for="quiz-title" class="block text-xs font-semibold text-gray-700" style="margin-bottom: 5px;">Score Minimum</label>
    <input type="number" id="quiz-title" formControlName="minAvrage" class="w-full text-xs font-semibold border border-gray-300 rounded px-3 py-2" style="padding: 10px;" placeholder="Enter quiz title" />
    <div *ngIf="quizForm.get('minAvrage')?.invalid && (quizForm.get('minAvrage')?.touched || quizForm.get('minAvrage')?.dirty)" class="text-xs text-red-600">Score minimum requis</div>
  </div>
  <div class="w-full" style="margin-bottom: 15px;">
    <label for="quiz-title" class="block text-xs font-semibold text-gray-700" style="margin-bottom: 5px;">Score maximum</label>
    <input type="number" id="quiz-title" formControlName="maxAvrage" class="w-full text-xs font-semibold border border-gray-300 rounded px-3 py-2" style="padding: 10px;" placeholder="Enter quiz title" />
    <div *ngIf="quizForm.get('maxAvrage')?.invalid && (quizForm.get('maxAvrage')?.touched || quizForm.get('maxAvrage')?.dirty)" class="text-xs text-red-600">Score maximum requis</div>
  </div>
  <div class="w-full">
    <button class="w-full text-xs text-green-600 font-semibold bg-green-100 rounded-md cursor-pointer" style="padding: 10px 0;">
        @if (isLoading()) {
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-loader-icon lucide-loader">
                <path d="M12 2v4"/>
                <path d="m16.2 7.8 2.9-2.9"/>
                <path d="M18 12h4"/>
                <path d="m16.2 16.2 2.9 2.9"/>
                <path d="M12 18v4"/>
                <path d="m4.9 19.1 2.9-2.9"/>
                <path d="M2 12h4"/>
                <path d="m4.9 4.9 2.9 2.9"/>
            </svg>
            Soumission en cours...
        } @else {
            Soumettre le quiz
        }
    </button>
  </div>

  <div *ngIf="hasMessage()" class="w-full" style="margin-top: 15px;">
    <app-toast-message [state]="state()" [message]="message()" />
  </div>
</form>