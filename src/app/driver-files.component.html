<p-card header="Driver Documents">
  <div class="mb-4">
    <div class="flex flex-col gap-2 mb-3">
      <label for="category">Document Category</label>
      <p-dropdown 
        id="category" 
        [options]="fileCategories" 
        [(ngModel)]="selectedCategory" 
        placeholder="Select a Category"
        optionLabel="title"
        optionValue="title"
        [style]="{'width':'100%'}">
      </p-dropdown>
    </div>
    <p-fileUpload
      #fileUpload
      name="driverFiles"
      (uploadHandler)="onUpload($event)"
      [customUpload]="true"
      [multiple]="true"
      accept="image/*,application/pdf"
      [maxFileSize]="1000000">
    </p-fileUpload>
  </div>

  <p-table [value]="driverFiles" [tableStyle]="{'min-width': '50rem'}">
    <ng-template pTemplate="header">
      <tr>
        <th>Filename</th>
        <th>Category</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-file>
      <tr>
        <td>{{file.filename}}</td>
        <td>{{file.categoryFile}}</td>
        <td>
          <p-button icon="pi pi-download" styleClass="p-button-rounded p-button-info mr-2" (click)="downloadFile(file)"></p-button>
          <p-button icon="pi pi-trash" styleClass="p-button-rounded p-button-danger" (click)="deleteFile(file)"></p-button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="3" class="text-center">No documents found for this driver.</td>
        </tr>
    </ng-template>
  </p-table>
</p-card>